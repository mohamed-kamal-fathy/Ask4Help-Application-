try{window.performance.mark("shared~commons~atlassian~ar.js:eval-start")}catch(e){}function e(e,t,r,i){Object.defineProperty(e,t,{get:r,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r=globalThis,i={},s={},a=r.parcelRequire49d7;null==a&&(a=function(e){if(e in i)return i[e].exports;if(e in s){var t=s[e];delete s[e];var r={id:e,exports:{}};return i[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a},a.register=function(e,t){s[e]=t},r.parcelRequire49d7=a);var n=a.register;r.lb||(r.lb=new Set,r.bq=[],r.rlb=e=>{r.lb.add(e),r.pq()},r.rwr=(e,t,i)=>{r.bq.push({b:e,r:t,d:i}),r.pq()},r.pq=()=>{var e=r.bq.find(e=>e.d.every(e=>r.lb.has(e)));e&&(r.bq=r.bq.filter(t=>t.b!==e.b),e.r(),r.pq())}),n("fq6gA",function(t,r){e(t.exports,"getGlobalErrorCount",()=>l),e(t.exports,"default",()=>p);let i=!0,s=0,n=[],o=(e,t,r,i,s)=>{n.push({name:e,labelStack:t,errorType:r,errorMessage:i,errorStack:s})},l=()=>s,c=e=>{if(s++,e.error?.UFOhasCaught===void 0)try{if(e.error instanceof Error)o("GlobalErrorHandler",null,e.error.name,e.error.message,e.error.stack);else if(e.error){let t=JSON.stringify(e.error).slice(0,50);o("GlobalErrorHandler",null,"",`Non error object thrown: ${t}`,void 0)}else if(void 0!==e.message){let t=e.message.slice(0,50);o("GlobalErrorHandler",null,"",`Non error object thrown: ${t}`,void 0)}e.error&&"object"==typeof e.error&&(e.error.UFOhasCaught=!0)}catch(e){}},u=e=>{if(s++,e.reason instanceof Error)o("GlobalErrorHandler",null,e.reason.name,e.reason.message,e.reason.stack);else if(e.reason)try{let t=JSON.stringify(e.reason).slice(0,50);o("GlobalErrorHandler",null,"",`Non error object thrown: ${t}`,void 0)}catch(e){}};var p=()=>{i&&((0,a("cBeZP").bind)(window,{type:"error",listener:e=>c(e)}),(0,a("cBeZP").bind)(window,{type:"unhandledrejection",listener:u}),i=!1)}}),n("4uHy1",function(r,i){e(r.exports,"getCookie",()=>n);var s=a("eYli8");function n(e){if((0,a("VSDnB").fg)("platform_moonjelly_bsc_master_killswitch"))return e?t(s).get(e):t(s).get();try{return(0,a("3MsQ9").sendPackageOperationalEvent)({action:"usedGetCookie",attributes:{cookieKey:e}}),e?t(s).get(e):t(s).get()}catch(t){(0,a("Dyz2r").Logger).errorWithOperationalEvent({action:"usedGetCookieError",attributes:{cookieKey:e},message:`Failed to use get cookie. ${t.message||""}`})}}}),n("3MsQ9",function(t,r){let i;e(t.exports,"getAnalyticsClient",()=>u),e(t.exports,"sendPackageOperationalEvent",()=>p),e(t.exports,"sendUIEvent",()=>g),e(t.exports,"sendScreenEvent",()=>d),e(t.exports,"sendTrackEvent",()=>m);let s=()=>{let{hostname:e}=window.location;return e.includes(".dev.")||e.includes(".stg.")?a("iZhen").envType.STAGING:e.includes("localhost")||e.includes("ngrok")||e.includes("atlastunnel")?a("iZhen").envType.DEV:a("iZhen").envType.PROD},n=e=>{let t="";if(!e)return t;let r=t=>RegExp(`^${t}(/|$)`).test(String(e));return r("/wiki")&&(t="/wiki"),r("/jira")&&(t="/jira"),r("/compass")&&(t="/compass"),r("/canvas")&&(t="/canvas"),(r("/servicedesk")||r("/jira/servicedesk"))&&(t="/servicedesk"),t},o=e=>"https://trello.com"===e?"trello":null,l=()=>{let{origin:e,pathname:t}=window.location,r=n(t),i=`${e}${r}`,s=o(i)||r.slice(1);return{domain:i,product:s}},c=e=>{let{domain:t,product:r}=l();return{packageName:a("dNWuc").packageName,packageVersion:a("dNWuc").packageVersion,domain:t,product:a("gMWuT").getBscGlobalState().product?.toLowerCase()??r,...e&&e}},u=()=>{try{!i&&(0,a("gMWuT").getBscGlobalState)().analyticsEnabled&&(i=new(a("buAWB")).default({env:s(),product:"atlassianCookies"},{useLegacyUrl:!1,disableCookiePersistence:!0}))}catch(e){(0,a("Dyz2r").Logger).error(`Failed to initialize AnalyticsWebClient. ${e}`)}if((0,a("gMWuT").getBscGlobalState)().analyticsEnabled)return i};function p(e){(0,a("cSola").withAnalyticsEventSampling)(e.action,()=>u()?.sendOperationalEvent({source:"package",actionSubject:"package",action:e.action,attributes:c(e.attributes)}))}function g(e){u()?.sendUIEvent({...e,attributes:c(e.attributes)})}function d(e){u()?.sendScreenEvent({...e,attributes:c(e.attributes)})}function m(e){u()?.sendTrackEvent({...e,attributes:c(e.attributes)})}}),n("gMWuT",function(r,i){let s,n,o,l,c,u,p,g,d;e(r.exports,"getBscGlobalState",()=>f),e(r.exports,"initializeGlobalState",()=>b);var m=a("eYli8");let h=async e=>{switch(e){case a("8FFpF").CategoryStorageType.Cookies:return await p?.loadStorageControlsData();case a("8FFpF").CategoryStorageType.LocalStorage:return await g?.loadStorageControlsData();case a("8FFpF").CategoryStorageType.SessionStorage:return await d?.loadStorageControlsData();default:return}},f=()=>(null==s&&(s=!0),{analyticsEnabled:s,product:n,webStorageEnabled:o,localConsentMode:l=l??!1,packageDebugMode:c,allowUncategorizedCookiesInOverrides:u,cookiesCacheLoader:p,localStorageCacheLoader:g,sessionStorageCacheLoader:d,loadCache:h}),b=({analyticsEnabled:e=!0,product:r="all",localConsentMode:i=!1,webStorageEnabled:h,allowUncategorizedCookiesInOverrides:f}={})=>{s=e,n=r,l=i,void 0!==h&&(o=h&&!(0,a("VSDnB").fg)("platform_moonjelly_bsc_web_storage_killswitch")),void 0!==f&&(u=f),p=new(a("ijunp")).CacheLoader(a("8FFpF").CategoryStorageType.Cookies),g=new(a("ijunp")).CacheLoader(a("8FFpF").CategoryStorageType.LocalStorage),d=new(a("ijunp")).CacheLoader(a("8FFpF").CategoryStorageType.SessionStorage),(0,a("VSDnB").fg)("platform_moonjelly_bsc_debug_mode")&&(c=!!t(m).get("atl-bsc-debug-mode"))}}),n("8FFpF",function(t,r){e(t.exports,"PreferenceCategory",()=>p),e(t.exports,"ConsentPreferenceV2",()=>g),e(t.exports,"ContextualConsentProperty",()=>d),e(t.exports,"PrefetchedPreferenceState",()=>m),e(t.exports,"CategoryStorageType",()=>h),e(t.exports,"Status",()=>f);var i,s,a,n,o,l,c,u,p=((i={}).StrictlyNecessary="STRICTLY_NECESSARY",i.Functional="FUNCTIONAL",i.Marketing="MARKETING",i.Analytics="ANALYTICS",i.Unknown="UNKNOWN",i),g=((s={}).ConsentDataUnavailable="CONSENT_DATA_UNAVAILABLE",s.ConsentedUnderGDPR="CONSENTS_SAVED_IN_GDPR_LOCALE",s.ConsentedUnderCPRA="CONSENTS_SAVED_IN_CPRA_LOCALE",s.ConsentedUnderLGPD="CONSENTS_SAVED_IN_LGPD_LOCALE",s.ConsentedUnderFADP="CONSENTS_SAVED_IN_FADP_LOCALE",s),d=((a={}).ConsentsAreDefault="DEFAULT_CONSENTS",a.UserIsAuthenticated="USER_AUTHENTICATED",a.ConsentDataUnavailable="CONSENT_DATA_UNAVAILABLE",a);(n={}).LocalStorage="localStorageKeys",n.SessionStorage="sessionStorageKeys",n.Cookies="keys",n.ThirdParty="thirdPartyKeys";var m=((o={})[o.INTERNAL=0]="INTERNAL",o),h=((l={}).Cookies="Cookies",l.LocalStorage="LocalStorage",l.SessionStorage="SessionStorage",l),f=((c={}).SUCCESS="SUCCESS",c.BLOCKED="BLOCKED",c.FAILED="FAILED",c);(u={}).MASTER_KILLSWITCH="platform_moonjelly_bsc_master_killswitch",u.UI_KILLSWITCH="platform_moonjelly_bsc_ui_killswitch",u.SSR_KILLSWITCH="platform_moonjelly_bsc_ssr_killswitch",u.WEB_STORAGE_KILLSWITCH="platform_moonjelly_bsc_web_storage_killswitch"}),n("ijunp",function(t,r){e(t.exports,"CacheLoader",()=>i);class i{constructor(e){switch(e){case a("8FFpF").CategoryStorageType.Cookies:this.cacheUrl=l;break;case a("8FFpF").CategoryStorageType.LocalStorage:this.cacheUrl=c;break;case a("8FFpF").CategoryStorageType.SessionStorage:this.cacheUrl=u;break;default:this.cacheUrl=o}}clearStorageControlsDataCache(){this.localResponseCache=void 0,this.localResponsePromiseCache=void 0,this.localResponseJsonPromiseCache=void 0}async handleCategoriesResponse(e){if(!e)throw Error("Failed to fetch Cookies Cache! Cached promise was undefined");let t=await e;if(!t.ok)throw Error(`Failed to fetch Cookies Cache! status: ${t.status}`);return this.localResponseJsonPromiseCache=this.localResponseJsonPromiseCache||t?.json(),this.localResponseJsonPromiseCache}async loadStorageControlsData(){if(this.localResponseCache)return this.localResponseCache;try{return this.localResponsePromiseCache||((0,a("Dyz2r").Logger).debug(`Loading cache ${this.cacheUrl}`),this.localResponsePromiseCache=fetch(this.cacheUrl)),this.localResponseCache=await this.handleCategoriesResponse(this.localResponsePromiseCache),this.localResponseCache}catch(e){(0,a("Dyz2r").Logger).errorWithOperationalEvent({action:"loadStorageControlsError",message:e.message||""}),this.clearStorageControlsDataCache()}}}}),n("Dyz2r",function(t,r){e(t.exports,"Logger",()=>s);let i="[browser-storage-controls]";class s{static info(e,t){console.log(`${i}: ${e}`,t?JSON.stringify(t):"")}static error(e,t){console.error(`${i}: ${e}`,t?JSON.stringify(t):"")}static errorWithOperationalEvent({action:e,attributes:t={},message:r,metadata:i}){try{(0,a("3MsQ9").sendPackageOperationalEvent)({action:e,attributes:{error:r,...t}})}catch(t){this.error(`Failed to send operational event on error: ${e}. ${t.message||""}`)}this.error(r,i?JSON.stringify(i):"")}static warn(e,t){console.warn(`${i}: ${e}`,t?JSON.stringify(t):"")}static debug(e,t){(0,a("gMWuT").getBscGlobalState)().packageDebugMode&&(0,a("VSDnB").fg)("platform_moonjelly_bsc_debug_mode")&&console.debug(`${i}: DEBUG ${e}`,t?JSON.stringify(t):"")}}});const o="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories.json",l="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories_COOKIE.json",c="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories_LOCAL_STORAGE.json",u="https://atlassian-cookies--categories.us-east-1.prod.public.atl-paas.net/categories_SESSION_STORAGE.json";n("dNWuc",function(t,r){e(t.exports,"packageName",()=>s),e(t.exports,"packageVersion",()=>n);var i=a("6cAn5");let s=i?.env._PACKAGE_NAME_??"",n=i?.env._PACKAGE_VERSION_??""}),n("cSola",function(t,r){e(t.exports,"withAnalyticsEventSampling",()=>l);let i={usedGetCookie:1e5,usedGetCookieError:1,usedSetCookie:1e3,usedSetCookieError:1,usedSetStrictlyNecessaryCookie:1e4,usedSetStrictlyNecessaryCookieError:1,usedDeleteCookie:10,usedDeleteCookieError:1,usedCheckThirdParty:1e5,checkThirdPartyError:1,usedDocumentCookie:100,usedDocumentCookieError:1,initializeControlsError:1,loadStorageControlsError:1,updatePreferencesError:1,fetchConsentPreferencesError:1,saveConsentPreferencesError:1,usedAtlBrowserStorageGetItem:100,usedAtlBrowserStorageGetItemError:1,usedAtlBrowserStorageSetItem:100,usedAtlBrowserStorageSetItemError:1,usedAtlBrowserStorageSetStrictlyNecessaryItem:100,usedAtlBrowserStorageSetStrictlyNecessaryItemError:1,usedCheckIfSetByPackageError:1,renderConsentBannerError:1,bannerAppearanceAfterDismissal:1},s=["loadStorageControlsError"];async function n(){if(a("lYuNP").cache.cachedSamplingConfig)return a("lYuNP").cache.cachedSamplingConfig;if((0,a("ljmYJ").isSSR)())return;let{loadCache:e}=(0,a("gMWuT").getBscGlobalState)(),t=await e(a("8FFpF").CategoryStorageType.Cookies),r=t?.analyticsSamplingRatio;return a("lYuNP").cache.cachedSamplingConfig=r,r}async function o(e){if(s.includes(e))return i[e];let t=await n()??i;return t?.[e]!==void 0?t[e]:i[e]}async function l(e,t){Math.floor(Math.random()*await o(e))||t()}}),n("lYuNP",function(t,r){e(t.exports,"cache",()=>i);let i=new(a("3HP97")).CachedSamplingConfig}),n("3HP97",function(t,r){e(t.exports,"CachedSamplingConfig",()=>i);class i{get cachedSamplingConfig(){return this.cache}set cachedSamplingConfig(e){this.cache=e}}}),n("ljmYJ",function(t,r){e(t.exports,"isSSR",()=>i);let i=()=>{let e="undefined"==typeof document||"undefined"==typeof window||!Document||!Document.prototype||!Object||!Object.defineProperty,t=!a("VSDnB").fg,r=!a("buAWB").default;return e&&(0,a("Dyz2r").Logger).warn("Browser context is not available."),t&&(0,a("Dyz2r").Logger).warn("Platform Feature Flag library is not available"),a("buAWB").default||(0,a("Dyz2r").Logger).warn("analytics-web-client is not available"),!!e||!!t||!!r}}),n("1tcYS",function(t,r){e(t.exports,"default",()=>s),e(t.exports,"useInteractionContext",()=>n);var i=a("5uXOq"),s=a("6wxJn").default;function n(){return(0,i.useContext)(a("6wxJn").default)}}),n("21pfT",function(t,r){e(t.exports,"browserMetrics",()=>i);let i={init(e){(0,a("fCzt4").visibilityChangeObserver).start(),e.events[a("2OjhD").BMEventsType.WEB_VITALS]?.enabled&&(0,a("bC5TE").webVitalsObserver).start(),e.debug&&((0,a("1a316").logger).enable(),(0,a("9mLUv").submitter).setDebug(!0),(0,a("7cRo8").pageLoadMetaMetric).setDebug(!0)),(0,a("9mLUv").submitter).configure(e),e.ssr?.getDoneMark&&(0,a("Y0qGc").SSRGetDoneMark).setGetDoneMark(e.ssr.getDoneMark)},setRoute(e){(0,a("dNz07").Route).setRoute(e)},startPageLoad(e){(0,a("7cRo8").pageLoadMetaMetric).startPageLoad({isInitial:!1,cancelStarted:!0,...e})},getPageLoadMetric:()=>a("7cRo8").pageLoadMetaMetric,experimental__addPageLoadTimingFromPerformanceMarks(e,t,r,i=!0){if(i&&!(0,a("7cRo8").pageLoadMetaMetric).isInitialLoad())return;let s=performance.getEntriesByName(t),n=performance.getEntriesByName(r);if(s.length>0&&n.length>0){if((0,a("7cRo8").pageLoadMetaMetric).isDebugMode())try{performance.measure(e,t,r)}catch(e){}let i=(0,a("7cRo8").pageLoadMetaMetric).getData();if(null!==i.start){let t=s[s.length-1],r={startTime:Math.round(t.startTime-i.start),duration:Math.round(n[n.length-1].startTime-t.startTime)};(0,a("7cRo8").pageLoadMetaMetric).experimental__addExplicitTiming(e,r)}}}}}),n("Y0qGc",function(t,r){e(t.exports,"SSRGetDoneMark",()=>i);let i={getDoneMark:()=>null,setGetDoneMark:e=>{i.getDoneMark=e}}}),n("1a316",function(t,r){e(t.exports,"logger",()=>i);let i={enabled:!1,enable(){this.enabled=!0},log(...e){this.enabled&&console.log("BM log: ",...e)},logCond(e,...t){this.enabled&&e&&t.length>1&&this.log(...t)}}}),n("7cRo8",function(t,r){e(t.exports,"pageLoadMetaMetric",()=>s);class i extends a("hjsyZ").BasePageLoadMetric{startPageLoad({cancelStarted:e,...t}={isInitial:!1,cancelStarted:!1}){(e||this.state!==a("faqZ3").MetricState.STARTED)&&super.startPageLoad(t)}setActive(e){this.activePageLoadMetric=e}setDebug(e){this.config.debug=e}isDebugMode(){return this.config.debug}isInitialLoad(){return this.isInitial}clear(){this.activePageLoadMetric&&this.activePageLoadMetric.cancel(),super.clear()}include(e){this.config.include?this.config.include.push(e):this.config.include=[e]}experimental__addExplicitTiming(e,t){null===this.explicitTimings&&(this.explicitTimings={}),this.explicitTimings[e]=t}constructor(...e){super(...e),this.activePageLoadMetric=null}}let s=new i({type:a("2OjhD").BMEventsType.PAGE_LOAD,key:"page_load_meta_metric"})}),n("2OjhD",function(t,r){e(t.exports,"BMEventsType",()=>g),e(t.exports,"StorableBMEventsType",()=>d),e(t.exports,"BMPageLoadMetrics",()=>m),e(t.exports,"BMPageSegmentLoadMetrics",()=>h),e(t.exports,"BMInteractionMetrics",()=>f),e(t.exports,"PageSegmentPageLoadMetricsOptions",()=>b),e(t.exports,"PageVisibleFields",()=>S),e(t.exports,"PageVisibleValueOrigin",()=>T),e(t.exports,"isDetailedPageLoadSlo",()=>E),e(t.exports,"isDetailedPageSegmentLoadSlo",()=>y),e(t.exports,"isInteractionMetricsSlo",()=>v),e(t.exports,"IncludeSSRFeatureFlagsConfig",()=>M);var i,s,a,n,o,l,c,u,p,g=((i={}).PAGE_LOAD="PAGE_LOAD",i.PAGE_SEGMENT_LOAD="PAGE_SEGMENT_LOAD",i.INLINE_RESULT="INLINE_RESULT",i.CUSTOM="CUSTOM",i.WEB_VITALS="WEB_VITALS",i),d=((s={}).PAGE_LOAD="page-load",s.PAGE_SEGMENT_LOAD="page-segment-load",s.INLINE_RESULT="inline-result",s.CUSTOM="custom",s.WEB_VITALS="web-vitals",s),m=((a={}).fmp="fmp",a.tti="tti",a),h=((n={}).fmp="fmp",n.tti="tti",n),f=((o={}).response="response",o.result="result",o),b=((l={}).OFF="OFF",l.IF_PRESENT="IF_PRESENT",l.WAIT_UNTIL_PRESENT="WAIT_UNTIL_PRESENT",l),S=((c={}).pageVisibleState="page-visible-state",c.pageVisibleValue="page-visible-value",c),T=((u={}).documentHidden="document-hidden",u.pageVisibleState="page-visible-state",u);let E=e=>!!e.initial,y=e=>!!e.initial,v=e=>!(void 0===e.result&&void 0===e.response);var M=((p={}).NEVER="never",p.WHEN_FMP="when-fmp",p.WHEN_AVAILABLE="when-available",p)}),n("faqZ3",function(t,r){e(t.exports,"MetricState",()=>n),e(t.exports,"PageVisibleState",()=>o),e(t.exports,"BaseMetric",()=>c);var i,s,n=((i={}).NOT_STARTED="not-started",i.STARTED="started",i.FINISHED="finished",i.CANCELLED="cancelled",i),o=((s={}).VISIBLE="visible",s.MIXED="mixed",s.HIDDEN="hidden",s);function l(){return"undefined"!=typeof document&&"visible"===document.visibilityState?"visible":"hidden"}class c{static{this.FMP="fmp"}constructor(e){this.state="not-started",this.startTime=null,this.stopTime=null,this.marks={},this.onStopCallbacks=[],this.custom=null,this.submetrics=[],this.route=null,this.untilOnStopCallback=null,this.pageVisibleState=l(),this.setPageVisibleStateToMixed=()=>{this.pageVisibleState="mixed"},this.config=e,this.key=e.key.replace(/ /gi,"-"),this.type=e.type,this.config.timings?.forEach(e=>{a("bopkp").restrictedTimingKeys.includes(e.key)&&(console.warn(`Entry ${e.key} is restricted and has been renamed to custom__${e.key}`),e.key=`custom__${e.key}`)})}get untilMetrics(){let{until:e}=this.config;return e?Array.isArray(e)?this.getConfiguredUntilMetricArray(e):this.getConfiguredUntilMetricArray([e]):[]}start({startTime:e=window.performance.now()}={}){this.clear(),(0,a("1a316").logger).logCond(!!this.config.debug,this.key,e),this.state="started",this.startTime=e,this.pageVisibleState=l(),(0,a("fCzt4").visibilityChangeObserver).subscribe(this.setPageVisibleStateToMixed),this.watchUntil()}stop(e={}){let{stopTime:t=window.performance.now()}=e;return"started"!==this.state||null===this.startTime?((0,a("1a316").logger).log(`metric ${this.config.key} has been stopped while not being started before; current state: ${this.state}`),!1):t<this.startTime?((0,a("1a316").logger).log(`metric ${this.config.key} has been stopped with stopTime lower than startTime; startTime: ${this.startTime}; stopTime: ${t}`),!1):(this.stopTime=t,this.state="finished",this.handleStop(e),(0,a("fCzt4").visibilityChangeObserver).unsubscribe(this.setPageVisibleStateToMixed),!0)}handleStop(e){let{customData:t=null}=e;t&&(this.custom={...this.custom,...t}),this.config.include&&this.config.include.forEach(e=>{let t=e.getData();"finished"===t.state&&null!==t.start&&t.start>=(this.startTime||0)&&this.addSubMetric(e.getData())}),this.onStopCallbacks.forEach(([t])=>{t(e)}),this.onStopCallbacks=[],(0,a("1a316").logger).logCond(!!this.config.debug,this.key,this.config.debug&&this.getData())}mark(e,t=window.performance.now()){this.marks[e]=t}cancel(){"started"===this.state&&(this.state="cancelled",this.cancelUntil(),this.onStopCallbacks.forEach(([,e])=>{e()}),this.onStopCallbacks=[],(0,a("fCzt4").visibilityChangeObserver).unsubscribe(this.setPageVisibleStateToMixed))}merge(e){this.state=e.state,this.pageVisibleState=e.pageVisibleState,this.startTime=e.start,this.stopTime=e.stop,this.marks={...this.marks,...e.marks},this.submetrics=[...this.submetrics,...e.submetrics],this.onStopCallbacks=[...this.onStopCallbacks,...e.onStopCallbacks]}onStop(e,t){this.onStopCallbacks.push([e,t])}removeOnStopCallback(e){let t=this.onStopCallbacks.findIndex(([t])=>e===t);t>-1&&this.onStopCallbacks.splice(t,1)}getData(){return{key:this.key,state:this.state,start:this.startTime,stop:this.stopTime,marks:this.marks,custom:this.custom,submetrics:this.submetrics,config:this.config,route:this.route,pageVisibleState:this.pageVisibleState,type:this.config.type}}getDataToMerge(){return{...this.getData(),onStopCallbacks:this.onStopCallbacks}}addSubMetric(e){this.submetrics.push(e)}getConfiguredUntilMetric(e){return e instanceof c?(0,a("dNRIi").UntilExperience).fromMetric(e):(0,a("dNRIi").UntilExperience).fromConfig(e)}getConfiguredUntilMetricArray(e){return e.length?e.map(e=>this.getConfiguredUntilMetric(e)):[]}isUntilFinished(){return this.untilMetrics.every(e=>"finished"===e.experience.getData().state)}handleAllUntilFinished(){let e=[...this.untilMetrics].sort((e,t)=>e.getDependencyStopTime()-t.getDependencyStopTime()),t=[...this.untilMetrics].reduce((e,t)=>{let r=e?.getFullyInteractiveStopTime()??0;return(t.getFullyInteractiveStopTime()??0)>r?t:e},void 0),r={};e.forEach(e=>{Object.assign(r,e.experience.getData().custom)});let i=e[e.length-1],s=t?.getFullyInteractiveStopTime();this.stop({stopTime:i.getDependencyStopTime(),customData:{...r,segment:i.getKey(),segmentOverrided:i.getIsSegmentLoadOverrided(),...s?{latestFullyInteractiveSegment:t?.getKey(),latestFullyInteractiveStopTime:s}:{}}})}watchUntil(){if(this.untilMetrics.length){if(this.isUntilFinished()){this.handleAllUntilFinished();return}this.untilOnStopCallback=()=>{this.isUntilFinished()&&this.handleAllUntilFinished()},this.untilMetrics.forEach(e=>{"finished"!==e.experience.getData().state&&e.experience.onStop(this.untilOnStopCallback,()=>this.cancel())})}}cancelUntil(){this.untilMetrics.forEach(e=>{"cancelled"!==e.experience.getData().state&&this.untilOnStopCallback&&e.experience.removeOnStopCallback(this.untilOnStopCallback)})}clear(){this.cancelUntil(),this.state="not-started",this.startTime=null,this.stopTime=null,this.marks={},this.custom=null,this.submetrics=[],this.route=null,this.pageVisibleState=l()}}}),n("bopkp",function(t,r){e(t.exports,"restrictedTimingKeys",()=>i),e(t.exports,"clsWaitTimeMs",()=>s);let i=["ssr"],s=7500}),n("fCzt4",function(t,r){e(t.exports,"visibilityChangeObserver",()=>i);let i=new class{start(){document.addEventListener("visibilitychange",this.broadcast),window.addEventListener("pagehide",this.broadcast)}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter(t=>t!==e)}constructor(){this.observers=[],this.broadcast=()=>{this.observers.forEach(e=>e()),this.observers=[]}}}}),n("dNRIi",function(t,r){e(t.exports,"UntilExperience",()=>i);class i{static{this.FMP="fmp"}static fromConfig(e){return new i(e.experience,e.useFmpAsUntilStopTime)}static fromMetric(e){return new i(e)}constructor(e,t){this.experience=e,this.useFmpAsUntilStopTime=t}getFmp(){let{marks:e,stop:t}=this.experience.getData();return e[i.FMP]??t}getDependencyStopTime(){return this.useFmpAsUntilStopTime?this.getFmp():this.experience.getData().stop}getFullyInteractiveStopTime(){return this.experience.getData().stop}getIsSegmentLoadOverrided(){if(this.useFmpAsUntilStopTime){let{marks:e}=this.experience.getData();return!!e[i.FMP]}return!1}getKey(){return this.experience.getData().key}}}),n("hjsyZ",function(t,r){e(t.exports,"BasePageLoadMetric",()=>i);class i extends a("faqZ3").BaseMetric{static{this.FMP="fmp"}constructor(e){super(e),this.isInitial=!0,this.explicitTimings=null,this.config=e}start({}={}){}startPageLoad(e={isInitial:!1}){this.isInitial=e.isInitial,e.isInitial?super.start({startTime:0}):super.start(e),(0,a("1a316").logger).logCond(!!this.config.debug,this.key,this.startTime)}stopPageLoad(e,t={stopTime:window.performance.now()}){return e.state!==a("faqZ3").MetricState.STARTED||null===e.start||void 0===t.stopTime?((0,a("1a316").logger).log(`meta metric has been stopped while not being started before; current state: ${this.state}`),!1):t.stopTime<e.start?((0,a("1a316").logger).log(`metric ${this.config.key} has been stopped with stopTime lower than startTime; startTime: ${e.start}; stopTime: ${t.stopTime}`),!1):(this.merge(e),this.stopTime=t.stopTime,this.state=a("faqZ3").MetricState.FINISHED,this.handleStop(t),!0)}handleStop(e){let{until:t}=this.config;if(!(i.FMP in this.marks)&&t){let e=(Array.isArray(t)?this.getConfiguredUntilMetricArray(t):this.getConfiguredUntilMetricArray([t])).map(e=>e.getFmp());e.every(Number.isFinite)&&this.markFMP(Math.max(...e))}super.handleStop(e)}mark(e,t=window.performance.now()){e!==i.FMP&&super.mark(e,t)}merge(e){super.merge(e),this.isInitial=e.isInitial,this.explicitTimings=this.explicitTimings||e.explicitTimings?{...e.explicitTimings,...this.explicitTimings}:null}markFMP(e){super.mark(i.FMP,e)}getPageLoadData(){return{isInitial:this.isInitial,explicitTimings:this.explicitTimings}}getData(){return{...super.getData(),...this.getPageLoadData()}}getDataToMerge(){return{...super.getDataToMerge(),...this.getPageLoadData()}}clear(){this.explicitTimings=null,super.clear()}}}),n("bC5TE",function(t,r){e(t.exports,"webVitalsObserver",()=>i);let i=new class{start(){this.ttciDetermined=this.registerTTCI(),this.webVitalsDetermined=this.registerWebVitals()}async registerWebVitals(){try{let{getCLS:e,getFCP:t,getFID:r,getLCP:i,getTTFB:s}=await a("ahp0n");await Promise.all([s,r,t,i,e].map(e=>new Promise(t=>{e(({name:e,value:r})=>{let i=e.toLowerCase(),s="cls"===i?parseFloat(r.toFixed(2)):Math.round(r);this.data[`metric:${i}`]=s,t()})})))}catch(e){}}async registerTTCI(){try{let e=await a("7XmIb");await e.getFirstConsistentlyInteractive().then(e=>(this.data["metric:ttci"]="number"==typeof e?Math.round(e):e,!0))}catch(e){}}constructor(){this.data={"metric:ttci":null,"metric:ttfb":null,"metric:fid":null,"metric:fcp":null,"metric:lcp":null,"metric:cls":null}}}}),n("ahp0n",function(e,t){var r=a("6fhBS");e.exports=r("gceFf").then(()=>a("gDSxx"))}),n("6fhBS",function(e,t){e.exports=function(e){return import(a("dy9lH").resolve(e))}}),n("dy9lH",function(t,r){e(t.exports,"register",()=>i,e=>i=e),e(t.exports,"resolve",()=>s,e=>s=e);var i,s,a=new Map;i=function(e,t){for(var r=0;r<t.length-1;r+=2)a.set(t[r],{baseUrl:e,path:t[r+1]})},s=function(e){var t=a.get(e);if(null==t)throw Error("Could not resolve bundle with id "+e);return new URL(t.path,t.baseUrl).toString()}}),n("7XmIb",function(e,t){var r=a("6fhBS");e.exports=r("8qy0v").then(()=>a("8yzun"))}),n("dNz07",function(t,r){e(t.exports,"Route",()=>i);let i={route:"",setRoute(e){this.route=e},getRoute(){return this.route}}}),n("9mLUv",function(t,r){e(t.exports,"submitter",()=>i);let i={debug:!1,config:{gasv3:void 0,configChunk:null,useVisibleState:!1,histogram:{},enableReactUFOTracker:!1},configure(e){this.config.gasv3=e.endpoints.eventPipelineClient,this.config.enableReactUFOTracker=e.enableReactUFOTracker,this.config.configChunk=(0,a("iFc5T").makeShareableGlobalConfig)(e),e.events.all&&e.events.all.sfxEvents&&(this.config.useVisibleState=e.events.all.sfxEvents.activeTab===a("2OjhD").PageVisibleFields.pageVisibleState)},setDebug(e){this.debug=e},async queue(e){if(this.config.enableReactUFOTracker&&(0,a("bFU4G").addBrowserMetricEvent)(e),!this.config.configChunk)return this.debug&&console.warn("Submitter is not configured"),null;let t=await this.config.configChunk,r=await (0,a("1VnMk").eventDataProcessor)(t[e.config.type],e);if(null!==r&&void 0!==this.config.gasv3){let e=await this.config.gasv3,t={task:r["event:key"],properties:r};e&&e.sendOperationalEvent({actionSubject:"performance",attributes:t,source:"performance",action:"measured"})}}}}),n("1VnMk",function(t,r){e(t.exports,"eventDataProcessor",()=>d);let i=[a("zvZP9").eventKey,a("OV5vz").eventType,a("plhgc").eventProduct,a("z1c63").eventRoute,a("jLd46").eventId,a("5dXPl").eventLocalTime,a("hW0NK").eventRegion,a("9uajf").appFramework,a("7jNuP").appVersion,a("8Ic8h").bmVersion,a("7hfO8").telemetryBrowser,a("glqAF").telemetryCpu,a("fNOPT").telemetryMemory,a("j3CL9").telemetryNetwork,a("j9Eek").customData,a("gqba1").featureFlags,a("h14Ri").hostname,a("6FD20").productCustomData,a("5qhne").appTimings,a("9sxxV").resourceTimings],s=[...i,a("fOBx2").pageVisibleState,a("aklN4").pageVisibleValue,a("5bSM4").eventInitial,a("c4WOp").pageLoadMetrics,a("7nZqE").bundleEvalTimings],n=[...s,a("3nXa3").initialPageLoadMetrics,a("e12ut").navigationMetrics,a("3Rrh2").ssrSuccess,a("lgaHS").ssrFeatureFlags],o=[...s],l=[...i,a("cecKe").pageSegmentLoadMetrics,a("fOBx2").pageVisibleState,a("aklN4").pageVisibleValue,a("5bSM4").eventInitial,a("7nZqE").bundleEvalTimings],c=[...i,a("fOBx2").pageVisibleState,a("aklN4").pageVisibleValue,a("bqsDF").interactionMetrics],u=[...i,a("fOBx2").pageVisibleState,a("aklN4").pageVisibleValue,a("18J7I").customEventMetrics],p=[...i,a("3CL6l").webVitalsMetrics],g=(e=a("bopkp").clsWaitTimeMs+500)=>new Promise(t=>setTimeout(t,e)),d=async(e,t)=>{if(null===t.start||null===t.stop)return(0,a("1a316").logger).log(`eventDataProcessor: Metric "${t.key}" start or stop are incorrect; start: ${t.start}; stop: ${t.stop}`),null;let r=[];t.config.type===a("2OjhD").BMEventsType.PAGE_LOAD&&(0,a("bZsxw").isPageLoadMetricData)(t)&&t.isInitial&&(r=n),t.config.type===a("2OjhD").BMEventsType.PAGE_LOAD&&(0,a("bZsxw").isPageLoadMetricData)(t)&&!t.isInitial&&(r=o),t.config.type===a("2OjhD").BMEventsType.PAGE_SEGMENT_LOAD&&(0,a("bZsxw").isPageSegmentLoadMetricData)(t)&&(r=l),t.config.type===a("2OjhD").BMEventsType.INLINE_RESULT&&(r=c),t.config.type===a("2OjhD").BMEventsType.CUSTOM&&(r=u),t.config.type===a("2OjhD").BMEventsType.WEB_VITALS&&(r=p,await g());let i=[];for(let s of r){let r=await s(t.config,t,e);r&&i.push(r)}let s=await Promise.all(i),d={};return s.forEach(e=>{null!==e&&Object.keys(e).forEach(t=>{let r=e[t];null!=r&&(d[t]=r)})}),d}}),n("bZsxw",function(t,r){e(t.exports,"isPageLoadMetricData",()=>i),e(t.exports,"isPageSegmentLoadMetricData",()=>s),e(t.exports,"isPageLoadConfig",()=>n),e(t.exports,"isPageSegmentLoadConfig",()=>o),e(t.exports,"isInteractionConfig",()=>l),e(t.exports,"isCustomConfig",()=>c);let i=e=>e.type===a("2OjhD").BMEventsType.PAGE_LOAD,s=e=>e.type===a("2OjhD").BMEventsType.PAGE_SEGMENT_LOAD,n=e=>e.type===a("2OjhD").BMEventsType.PAGE_LOAD,o=e=>e.type===a("2OjhD").BMEventsType.PAGE_SEGMENT_LOAD,l=e=>e.type===a("2OjhD").BMEventsType.INLINE_RESULT,c=e=>e.type===a("2OjhD").BMEventsType.CUSTOM}),n("9uajf",function(t,r){e(t.exports,"appFramework",()=>i);let i=(e,t,r)=>r.app.framework?{"app:framework:name":r.app.framework.name,"app:framework:version":r.app.framework.version}:null}),n("7jNuP",function(t,r){e(t.exports,"appVersion",()=>i);let i=(e,t,r)=>{let i={"app:web:version":r.app.version.web};return r.app.version.ssr&&(i["app:ssr:version"]=r.app.version.ssr),i}}),n("8Ic8h",function(t,r){e(t.exports,"bmVersion",()=>i);let i=()=>({"bm:version":3})}),n("j9Eek",function(t,r){e(t.exports,"customData",()=>i);let i=(e,t)=>{let r={},i=!1;return t.custom&&Object.entries(t.custom).forEach(([e,t])=>{i=!0,r[`custom:${e}`]=t}),i?r:null}}),n("jLd46",function(t,r){e(t.exports,"eventId",()=>i);let i=e=>({"event:id":e.key})}),n("5bSM4",function(t,r){e(t.exports,"eventInitial",()=>i);let i=(e,t)=>(0,a("bZsxw").isPageLoadMetricData)(t)||(0,a("bZsxw").isPageSegmentLoadMetricData)(t)?{"event:initial":t.isInitial}:null}),n("zvZP9",function(t,r){e(t.exports,"eventKey",()=>i);let i=(e,t,r)=>({"event:key":`${r.product}.fe.${(0,a("3SSyX").mapEventType)(e.type)}.${e.key}`})}),n("3SSyX",function(t,r){e(t.exports,"mapEventType",()=>i);let i=e=>{switch(e){case a("2OjhD").BMEventsType.CUSTOM:return a("2OjhD").StorableBMEventsType.CUSTOM;case a("2OjhD").BMEventsType.INLINE_RESULT:return a("2OjhD").StorableBMEventsType.INLINE_RESULT;case a("2OjhD").BMEventsType.PAGE_LOAD:return a("2OjhD").StorableBMEventsType.PAGE_LOAD;case a("2OjhD").BMEventsType.PAGE_SEGMENT_LOAD:return a("2OjhD").StorableBMEventsType.PAGE_SEGMENT_LOAD;case a("2OjhD").BMEventsType.WEB_VITALS:return a("2OjhD").StorableBMEventsType.WEB_VITALS;default:return"unknown"}}}),n("5dXPl",function(t,r){e(t.exports,"eventLocalTime",()=>i);let i=()=>({"event:localHour":parseInt((0,a("k7m40").default)(new Date,"H"),10),"event:localDayOfWeek":parseInt((0,a("k7m40").default)(new Date,"i"),10)})}),n("plhgc",function(t,r){e(t.exports,"eventProduct",()=>i);let i=(e,t,r)=>({"event:product":`${r.product}`})}),n("hW0NK",function(t,r){e(t.exports,"eventRegion",()=>i);let i=(e,t,r)=>({"event:region":`${r.region}`})}),n("z1c63",function(t,r){e(t.exports,"eventRoute",()=>i);let i=(e,t)=>t.route?{"event:route":t.route}:null}),n("OV5vz",function(t,r){e(t.exports,"eventType",()=>i);let i=e=>({"event:type":(0,a("3SSyX").mapEventType)(e.type)})}),n("gqba1",function(t,r){e(t.exports,"featureFlags",()=>i);let i=(e,t,r)=>{let i=e.featureFlags?.reduce((e,t)=>(e[t]=r.ffClient.getValue(t),e),{})||null;return r.featureFlags&&0!==Object.keys(r.featureFlags).length||i&&0!==Object.keys(i).length?{featureFlags:{...i,...r.featureFlags}}:null}}),n("h14Ri",function(t,r){e(t.exports,"hostname",()=>i);let i=(e,t,r)=>({hostname:r.hostname})}),n("18J7I",function(t,r){e(t.exports,"customEventMetrics",()=>i);let i=(e,t,r)=>{if(!(0,a("bZsxw").isCustomConfig)(e))return null;let i={"metric:duration":Math.round(t.stop-t.start)};return e.slo?.threshold!==void 0&&(i["metric:duration:slo"]=i["metric:duration"]<=e.slo?.threshold,i["metric:duration:slo:threshold"]=e.slo?.threshold),e.histogram?.duration?i["metric:duration:histogramBuckets"]=e.histogram.duration:r.histogram&&(i["metric:duration:histogramBuckets"]=r.histogram.duration),i}}),n("3nXa3",function(t,r){e(t.exports,"initialPageLoadMetrics",()=>i);let i=()=>{let e={};return performance.getEntriesByType("paint").forEach(t=>{"first-paint"===t.name&&(e["metric:fp"]=Math.round(t.startTime)),"first-contentful-paint"===t.name&&(e["metric:fcp"]=Math.round(t.startTime))}),e}}),n("bqsDF",function(t,r){e(t.exports,"interactionMetrics",()=>i);let i=(e,t,r)=>{if(!(0,a("bZsxw").isInteractionConfig)(e))return null;let i={"metric:result":Math.round(t.stop-t.start)};if(e.histogram?.result)i["metric:result:histogramBuckets"]=e.histogram.result;else if(r.histogram){let e=r.histogram;void 0!==e.result&&(i["metric:result:histogramBuckets"]=e[a("2OjhD").BMInteractionMetrics.result])}if(e.slo&&(0,a("2OjhD").isInteractionMetricsSlo)(e.slo)&&e.slo.result&&(i["metric:result:slo"]=i["metric:result"]<=e.slo.result.threshold,i["metric:result:slo:threshold"]=e.slo.result.threshold),t.marks.feedback){if(i["metric:response"]=Math.round((t.marks.feedback||t.stop)-t.start),e.histogram?.response)i["metric:response:histogramBuckets"]=e.histogram[a("2OjhD").BMInteractionMetrics.response];else if(r.histogram){let e=r.histogram;void 0!==e.result&&(i["metric:response:histogramBuckets"]=e[a("2OjhD").BMInteractionMetrics.response])}e.slo&&(0,a("2OjhD").isInteractionMetricsSlo)(e.slo)&&e.slo.response&&(i["metric:response:slo"]=i["metric:response"]<=e.slo.response.threshold,i["metric:response:slo:threshold"]=e.slo.response.threshold)}return i}}),n("e12ut",function(t,r){e(t.exports,"navigationMetrics",()=>i);let i=()=>{let e=performance.getEntriesByType("navigation");if(0===e.length)return null;let t=e[0];return{"metrics:navigation":{redirectStart:Math.round(t.redirectStart),redirectEnd:Math.round(t.redirectEnd),fetchStart:Math.round(t.fetchStart),domainLookupStart:Math.round(t.domainLookupStart),domainLookupEnd:Math.round(t.domainLookupEnd),connectStart:Math.round(t.connectStart),connectEnd:Math.round(t.connectEnd),secureConnectionStart:Math.round(t.secureConnectionStart),requestStart:Math.round(t.requestStart),responseStart:Math.round(t.responseStart),responseEnd:Math.round(t.responseEnd),encodedBodySize:Math.round(t.encodedBodySize),decodedBodySize:Math.round(t.decodedBodySize),transferSize:Math.round(t.transferSize),redirectCount:t.redirectCount,type:t.type,unloadEventEnd:Math.round(t.unloadEventEnd),unloadEventStart:Math.round(t.unloadEventStart),workerStart:Math.round(t.workerStart)}}}}),n("c4WOp",function(t,r){e(t.exports,"pageLoadMetrics",()=>n);let i=(e,t)=>(0,a("2OjhD").isDetailedPageLoadSlo)(t)?e?t.initial.threshold:t.transition.threshold:t.threshold,s=(e,t,r)=>e?r.initial[t]:r.transition[t],n=(e,t,r)=>{if(!(0,a("bZsxw").isPageLoadConfig)(e))throw Error("Browser Metrics: cannot gather page load data for non-page-load config");let n={"metric:fmp":Math.round((t.marks[a("2OjhD").BMPageLoadMetrics.fmp]||t.stop)-t.start),"metric:tti":Math.round(t.stop-t.start)};if(e.histogram)n["metric:fmp:histogramBuckets"]=s(t.isInitial,a("2OjhD").BMPageLoadMetrics.fmp,e.histogram),n["metric:tti:histogramBuckets"]=s(t.isInitial,a("2OjhD").BMPageLoadMetrics.tti,e.histogram);else if(r.histogram){let e=r.histogram;n["metric:fmp:histogramBuckets"]=s(t.isInitial,a("2OjhD").BMPageLoadMetrics.fmp,e),n["metric:tti:histogramBuckets"]=s(t.isInitial,a("2OjhD").BMPageLoadMetrics.tti,e)}if(e.slo&&e.slo.fmp){let r=i(t.isInitial,e.slo.fmp);n["metric:fmp:slo"]=n["metric:fmp"]<=r,n["metric:fmp:slo:threshold"]=r}if(e.slo&&e.slo.tti){let r=i(t.isInitial,e.slo.tti);n["metric:tti:slo"]=n["metric:tti"]<=r,n["metric:tti:slo:threshold"]=r}return n}}),n("cecKe",function(t,r){e(t.exports,"pageSegmentLoadMetrics",()=>n);let i=(e,t)=>(0,a("2OjhD").isDetailedPageSegmentLoadSlo)(t)?e?t.initial.threshold:t.transition.threshold:t.threshold,s=(e,t,r)=>e?r.initial[t]:r.transition[t],n=(e,t,r)=>{if(!(0,a("bZsxw").isPageSegmentLoadConfig)(e))throw Error("Browser Metrics: cannot gather page segment load data for non-page-segment-load config");let n={"metric:fmp":Math.round((t.marks[a("2OjhD").BMPageSegmentLoadMetrics.fmp]||t.stop)-t.start),"metric:tti":Math.round(t.stop-t.start)};if(e.histogram)n["metric:fmp:histogramBuckets"]=s(t.isInitial,a("2OjhD").BMPageSegmentLoadMetrics.fmp,e.histogram),n["metric:tti:histogramBuckets"]=s(t.isInitial,a("2OjhD").BMPageSegmentLoadMetrics.tti,e.histogram);else if(r.histogram){let e=r.histogram;n["metric:fmp:histogramBuckets"]=s(t.isInitial,a("2OjhD").BMPageSegmentLoadMetrics.fmp,e),n["metric:tti:histogramBuckets"]=s(t.isInitial,a("2OjhD").BMPageSegmentLoadMetrics.tti,e)}if(e.slo?.fmp){let r=i(t.isInitial,e.slo.fmp);n["metric:fmp:slo"]=n["metric:fmp"]<=r,n["metric:fmp:slo:threshold"]=r}if(e.slo?.tti){let r=i(t.isInitial,e.slo.tti);n["metric:tti:slo"]=n["metric:tti"]<=r,n["metric:tti:slo:threshold"]=r}if(e.includePageLoadTimings===a("2OjhD").PageSegmentPageLoadMetricsOptions.IF_PRESENT||e.includePageLoadTimings===a("2OjhD").PageSegmentPageLoadMetricsOptions.WAIT_UNTIL_PRESENT){let e=(0,a("7cRo8").pageLoadMetaMetric).getData(),t=null!==e.stop&&null!==e.start?Math.round((e.marks[a("2OjhD").BMPageLoadMetrics.fmp]||e.stop)-e.start):null,r=null!==e.stop&&null!==e.start?Math.round(e.stop-e.start):null;n.pageLoad={fmp:t,tti:r}}return n}}),n("3CL6l",function(t,r){e(t.exports,"webVitalsMetrics",()=>i);let i=async(e,t,r)=>{let i=t.pageVisibleState,n=()=>{i=a("faqZ3").PageVisibleState.MIXED};(0,a("fCzt4").visibilityChangeObserver).subscribe(n);let o=r.webVitals?.ttciEnabled===void 0||r.webVitals?.ttciEnabled,l=await s(o,r.webVitals?.timeout||3e4);return(0,a("fCzt4").visibilityChangeObserver).unsubscribe(n),{...l,"pageVisible:state":i,...(0,a("aklN4").pageVisibleValue)(e,t,r)}},s=async(e,t)=>{await (e?a("bC5TE").webVitalsObserver.ttciDetermined:Promise.resolve());let r=new Promise(e=>setTimeout(e,t));return await Promise.race([r,a("bC5TE").webVitalsObserver.webVitalsDetermined]),a("bC5TE").webVitalsObserver.data}}),n("aklN4",function(t,r){e(t.exports,"pageVisibleValue",()=>i);let i=(e,t,r)=>({"pageVisible:value":r.pageVisibleValueOrigin===a("2OjhD").PageVisibleValueOrigin.documentHidden?!document.hidden:t.pageVisibleState===a("faqZ3").PageVisibleState.VISIBLE})}),n("fOBx2",function(t,r){e(t.exports,"pageVisibleState",()=>i);let i=(e,t)=>({"pageVisible:state":t.pageVisibleState})}),n("6FD20",function(t,r){e(t.exports,"productCustomData",()=>i);let i=async(e,t,r)=>{if(!r.custom&&!r.plugins)return null;let i={};return r.custom&&Object.entries(r.custom).forEach(([e,t])=>{i[`${r.product}:${e}`]=t}),r.plugins&&(await Promise.all(r.plugins.map(e=>e({start:t.start,stop:t.stop,key:t.key})))).forEach(e=>{null!==e&&Object.entries(e).forEach(([e,t])=>{i[`${r.product}:${e}`]=t})}),i}}),n("lgaHS",function(t,r){e(t.exports,"ssrFeatureFlags",()=>s);let i=async e=>{try{let t=await e();if(t)return{"ssr:featureFlags":t}}catch(e){}return null},s=async(e,t,r)=>{if(!r.ssr?.getFeatureFlags)return null;let s=e.ssr?.includeFeatureFlags||r.ssr?.includeFeatureFlags||a("2OjhD").IncludeSSRFeatureFlagsConfig.WHEN_FMP;return s===a("2OjhD").IncludeSSRFeatureFlagsConfig.WHEN_AVAILABLE||e.ssr?.doneAsFmp&&s===a("2OjhD").IncludeSSRFeatureFlagsConfig.WHEN_FMP?await i(r.ssr.getFeatureFlags):null}}),n("3Rrh2",function(t,r){e(t.exports,"ssrSuccess",()=>i);let i=(e,t,r)=>e.ssr&&e.ssr.doneAsFmp&&r.ssr&&r.ssr.getDoneMark&&r.ssr.getDoneMark()?{"ssr:success":!0}:null}),n("7hfO8",function(r,i){e(r.exports,"telemetryBrowser",()=>n);var s=a("4XKM3");let n=()=>{if(!t(s).getParser)return null;let e=t(s).getParser(window.navigator.userAgent);return{"telemetry:browser:name":e.getBrowserName(),"telemetry:browser:version":e.getBrowserVersion()}}}),n("glqAF",function(t,r){e(t.exports,"telemetryCpu",()=>i);let i=()=>navigator.hardwareConcurrency?{"telemetry:cpus":navigator.hardwareConcurrency}:null}),n("fNOPT",function(t,r){e(t.exports,"telemetryMemory",()=>i);let i=()=>navigator.deviceMemory?{"telemetry:memory":navigator.deviceMemory}:null}),n("j3CL9",function(t,r){e(t.exports,"telemetryNetwork",()=>i);let i=()=>navigator.connection?{"telemetry:network:effectiveType":navigator.connection.effectiveType,"telemetry:network:rtt":navigator.connection.rtt,"telemetry:network:downlink":navigator.connection.downlink}:null}),n("5qhne",function(t,r){e(t.exports,"appTimings",()=>i);let i=(e,t,r)=>{let i=e.type===a("2OjhD").BMEventsType.PAGE_LOAD&&t.explicitTimings||null,s=(0,a("a83l4").customTimings)(e,t),n=e.type===a("2OjhD").BMEventsType.PAGE_LOAD&&t.isInitial?(0,a("gKqV5").ssrTimings)(e,t,r):null,o=(i||s||n)&&{...i,...s,...n};return o?{"timings:app":o}:null}}),n("a83l4",function(t,r){e(t.exports,"customTimings",()=>s);let i=(e,t,r=0,i="")=>(e.timings||[]).reduce((e,s)=>{if(s.startMark&&!t.marks[s.startMark]||s.endMark&&!t.marks[s.endMark])return e;if(null===t.start||null===t.stop)return null;let a=Math.round((void 0!==t.marks[s.startMark]?t.marks[s.startMark]:t.start)-t.start+r),n=Math.round((void 0!==t.marks[s.endMark]?t.marks[s.endMark]:t.stop)-t.start-a+r);return e[`${i}${s.key}`]={startTime:a,duration:n},e},{}),s=(e,t)=>{if(!e.timings&&0===t.submetrics.length)return null;let r=i(e,t);return(t.submetrics.forEach(e=>{if(null!==e.start&&null!==e.stop){let s=`include:${e.config.key}`;r[s]={startTime:Math.round(e.start-t.start),duration:Math.round(e.stop-e.start)},Object.assign(r,i(e.config,e,e.start-t.start,s+p))}}),0===Object.keys(r).length)?null:r}});const p="/";n("gKqV5",function(t,r){e(t.exports,"ssrTimings",()=>n);let i=e=>!(!e||"object"!=typeof e||e.startTime<0||e.duration<0),s=e=>({startTime:Math.round(e.startTime),duration:Math.round(e.duration)}),a=e=>"total"===e?"ssr":`ssr${p}${e}`,n=(e,t,r)=>{if(!r.ssr||!r.ssr.getTimings)return null;let n=r.ssr.getTimings();if(!n)return null;let o=Object.entries(n).reduce((e,t)=>(i(t[1])&&(e[a(t[0])]=s(t[1])),e),{});return o&&0!==Object.keys(o).length?o:null}}),n("7nZqE",function(t,r){e(t.exports,"bundleEvalTimings",()=>s);let i=(e,t,r,i=window.performance)=>{let s={},a={},n=r?.enableBundleEvalTimings??!0;if(i.getEntriesByType("mark").forEach(e=>{if(!r.bundleEvalTimings)return;let i=r.bundleEvalTimings.mapPerformanceMark(e.name);if(!i)return;let{type:n,name:o}=i;if("start"===n&&null!==t.start&&e.startTime>=t.start){s[o]=e;return}"end"===n&&s[o]&&(a[o]={startTime:Math.round(s[o].startTime-t.start),duration:Math.round(e.startTime-s[o].startTime)},delete s[o])}),r.bundleEvalTimings&&r.bundleEvalTimings.additionalTimings&&null!==t.start&&n){let e=r.bundleEvalTimings.additionalTimings(t.start);e&&Object.entries(e).forEach(([e,t])=>{a[e]=t})}return 0===Object.keys(a).length?null:{"timings:bundleEval":a}},s=(...e)=>new Promise(t=>{setTimeout(()=>{t(i(...e))})})}),n("9sxxV",function(t,r){e(t.exports,"resourceTimings",()=>m);let i=["script","link"],s=["fetch","xmlhttprequest"],a="network",n=(e,t,r)=>i.includes(e)?(void 0===r||0===r)&&0===t?"memory":0===r&&t>0?"disk":void 0===r?null:a:a,o=(e,t,r)=>!i.includes(t)||e.includes("localhost")||e.includes(window.location.hostname)||r(e),l=e=>e?["script","link","fetch","xmlhttprequest"]:["script","link","fetch"],c=()=>!1,u=e=>0!==e.responseStart||!(e.startTime>e.responseStart),p=(e,t=!1,r=c)=>t?{m_h:e.name.includes("localhost")||e.name.includes(window.location.hostname)||r(e.name),a_h:u(e)}:null,g=e=>void 0!==e?{size:e}:null,d=(e,t,r=c)=>{let{name:s,duration:l,transferSize:u,initiatorType:p,responseStart:d}=e,m=Math.round(d-t);if(!o(s,p,r))return{};if(i.includes(p)){let e=n(p,l,u);return e?e!==a?{transferType:e}:{ttfb:m,transferType:e,...g(u)}:{ttfb:m,...g(u)}}return{ttfb:m,...g(u)}},m=(e,t,r,i=window.performance)=>{if(null===t.start)return null;let a=i.getEntriesByType("resource").filter(e=>e.startTime>=t.start);if(!a.length)return null;let n={},{xhrFilter:o}=r.resourceTimings,c=l(!!o);return a.forEach(e=>{if(!c.includes(e.initiatorType))return;let{name:i,startTime:a,duration:l,workerStart:u,fetchStart:g,initiatorType:m}=e;if(!i||"xmlhttprequest"===m&&(void 0===o||!1===o(i)))return;let h=s.includes(m)?r.resourceTimings.sanitiseEndpoints(i):r.resourceTimings.mapResources(i);n[h]||(n[h]={startTime:Math.round(a-t.start),duration:Math.round(l),workerStart:Math.max(Math.round(u-t.start),0),fetchStart:Math.max(Math.round(g-t.start),0),type:m,...d(e,t.start,r.resourceTimings.hasTimingHeaders),...p(e,r.resourceTimings.experimental__reportEvaluatedTimingHeaders,r.resourceTimings.hasTimingHeaders)})}),{"timings:resource":n}}}),n("iFc5T",function(t,r){e(t.exports,"makeShareableGlobalConfig",()=>n);let i=(e,t)=>{let r=[];return e&&r.push(...e),t&&r.push(...t),r},s=(e,t,r,s)=>{let n=r&&r.custom,o=s&&s.custom,l=(n||o)&&{...n,...o}||void 0,c=r&&r.plugins,u=s&&s.plugins,p=(c||u)&&[...c||[],...u||[]]||void 0,g=s?.pageVisibleValueOrigin??r?.pageVisibleValueOrigin??a("2OjhD").PageVisibleValueOrigin.documentHidden;return Object.freeze({...e,featureFlags:Object.freeze(i(r&&r.featureFlags,s&&s.featureFlags).reduce((e,r)=>(e[r]=t.getValue(r),e),{})),custom:l,plugins:p,histogram:s?.histogram,pageVisibleValueOrigin:g,enableBundleEvalTimings:s?.enableBundleEvalTimings})},n=async e=>{let t=await e.plugins.featureFlags.client,r={app:e.info.app,product:e.info.product,region:e.info.region,resourceTimings:e.plugins.resourceTimings,bundleEvalTimings:e.plugins.bundleEvalTimings,ffClient:t,hostname:e.info.hostname||window.location.hostname,ssr:e.ssr,enableReactUFOTracker:e.enableReactUFOTracker,webVitals:{enabled:e.events[a("2OjhD").BMEventsType.WEB_VITALS]?.enabled,timeout:e.events[a("2OjhD").BMEventsType.WEB_VITALS]?.timeout,ttciEnabled:e.events[a("2OjhD").BMEventsType.WEB_VITALS]?.ttciEnabled}};return{[a("2OjhD").BMEventsType.PAGE_LOAD]:s(r,t,e.events.all,e.events[a("2OjhD").BMEventsType.PAGE_LOAD]),[a("2OjhD").BMEventsType.PAGE_SEGMENT_LOAD]:s(r,t,e.events.all,e.events[a("2OjhD").BMEventsType.PAGE_SEGMENT_LOAD]),[a("2OjhD").BMEventsType.INLINE_RESULT]:s(r,t,e.events.all,e.events[a("2OjhD").BMEventsType.INLINE_RESULT]),[a("2OjhD").BMEventsType.CUSTOM]:s(r,t,e.events.all,e.events[a("2OjhD").BMEventsType.CUSTOM]),[a("2OjhD").BMEventsType.WEB_VITALS]:s(r,t,e.events.all,e.events[a("2OjhD").BMEventsType.WEB_VITALS])}}}),n("eoXiD",function(t,r){e(t.exports,"ufologger",()=>s),e(t.exports,"ufolog",()=>a),e(t.exports,"ufowarn",()=>n);class i{static{this.UFOprefix="[ufo\uD83D\uDEF8]"}log(...e){this.enabled&&console.log(i.UFOprefix,...e)}warn(...e){this.enabled&&console.warn(i.UFOprefix,...e)}enable(){this.enabled=!0}disable(){this.enabled=!1}constructor(){this.enabled=!1}}let s=new i,a=(...e)=>{s.log(...e)},n=(...e)=>{s.warn(...e)}}),n("8Nn2p",function(t,r){e(t.exports,"isWindowObjectAvailable",()=>i);let i=()=>"undefined"!=typeof window}),n("iJHxx",function(t,r){e(t.exports,"getGlobalEventStream",()=>i),e(t.exports,"setGlobalEventStream",()=>s),e(t.exports,"subscribeEvent",()=>n),e(t.exports,"unsubscribeEvent",()=>o),e(t.exports,"experiencePayloadEvent",()=>l);let i=()=>{if(!globalThis.__UFO_GLOBAL_EVENT_STREAM__){let e=(()=>{let e=[];return{__buffer_only__:!0,push:t=>{e.length<250&&e.push(t)},getStream:()=>e}})();globalThis.__UFO_GLOBAL_EVENT_STREAM__=e}return globalThis.__UFO_GLOBAL_EVENT_STREAM__},s=e=>{if(globalThis.__UFO_GLOBAL_EVENT_STREAM__&&!globalThis.__UFO_GLOBAL_EVENT_STREAM__?.__buffer_only__){(0,a("eoXiD").ufowarn)("Global Event Stream already initialised. Ignoring new event stream setup");return}globalThis.__UFO_GLOBAL_EVENT_STREAM__?.__buffer_only__&&globalThis.__UFO_GLOBAL_EVENT_STREAM__.getStream().forEach(e.push.bind(e)),globalThis.__UFO_GLOBAL_EVENT_STREAM__=e},n=(e,t)=>({type:a("fSTSz").UFOGlobalEventStreamEventType.SUBSCRIBE,payload:{experienceId:e,callback:t}}),o=(e,t)=>({type:a("fSTSz").UFOGlobalEventStreamEventType.UNSUBSCRIBE,payload:{experienceId:e,callback:t}}),l=e=>({type:a("fSTSz").UFOGlobalEventStreamEventType.EXPERIENCE_PAYLOAD,payload:e})}),n("fSTSz",function(t,r){e(t.exports,"UFOGlobalEventStreamEventType",()=>l),e(t.exports,"PageVisibleState",()=>c),e(t.exports,"SUBSCRIBE_ALL",()=>u),e(t.exports,"FMP_MARK",()=>p),e(t.exports,"INLINE_RESPONSE_MARK",()=>g);var i,s,a,n,o,l=((i={})[i.EXPERIENCE_PAYLOAD=0]="EXPERIENCE_PAYLOAD",i[i.SUBSCRIBE=1]="SUBSCRIBE",i[i.UNSUBSCRIBE=2]="UNSUBSCRIBE",i),c=((s={}).VISIBLE="visible",s.HIDDEN="hidden",s.MIXED="mixed",s);(a={}).fmp="fmp",a.tti="tti",(n={}).fmp="fmp",n.tti="tti",(o={}).response="response",o.result="result";let u="__SUBSCRIBE_ALL__",p="fmp",g="inline-response"}),n("3aRrh",function(t,r){e(t.exports,"visibilityChangeObserver",()=>i);let i=new class{start(){!this.started&&(this.started=!0,document.addEventListener("visibilitychange",this.broadcast),(0,a("8Nn2p").isWindowObjectAvailable)()&&window.addEventListener("pagehide",this.broadcast))}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter(t=>t!==e)}constructor(){this.started=!1,this.observers=[],this.broadcast=()=>{this.observers.forEach(e=>e()),this.observers=[]}}}}),n("atdLB",function(t,r){e(t.exports,"ExperienceTypes",()=>a),e(t.exports,"ExperiencePerformanceTypes",()=>n);var i,s,a=((i={}).Load="load",i.Experience="experience",i.Operation="operation",i),n=((s={}).PageLoad="page-load",s.PageSegmentLoad="page-segment-load",s.InlineResult="inline-result",s.Custom="custom",s)}),n("49z18",function(t,r){e(t.exports,"payloadPublisher",()=>n);let i="unknown",s={schemaVersion:i,id:i,uuid:i,state:{id:i},result:{startTime:0,duration:0,success:!1},type:a("atdLB").ExperienceTypes.Experience,category:i,performanceType:a("atdLB").ExperiencePerformanceTypes.Custom,metadata:{},explicitTimings:{},metrics:{startTime:0,endTime:0,marks:[]},platform:null,children:[],pageVisibleState:a("fSTSz").PageVisibleState.MIXED,isSSROutputAsFMP:!1,timings:[],featureFlags:[]},n=new class{publish(e){let t=a("8Vhtb").getPerformanceObject()?.now()||0,r=this.getExperienceKey(e);if(!this.allowlist(r,e)){(0,a("eoXiD").ufowarn)(`experience ${r} does not meet requirements of allowlist`);return}let n={...s,...e},o={actionSubject:"experience",action:"measured",source:"measured",tags:["observability"],attributes:{properties:{"event:source":{name:"ufo/web",version:n.schemaVersion},"event:schema":g||i,"event:product":this.product,"event:region":this.region,"event:hostname":this.hostname,"event:route":this.route.getRoute(),...(0,a("7xyGJ").eventBrowserPlugin)(),...(0,a("6IMTA").eventCpusPlugin)(),...(0,a("aHGCE").eventMemoryPlugin)(),...(0,a("l4Z6i").eventNetworkPlugin)(),...(0,a("1rlqb").appFramework)(this.app),...(0,a("8vdI1").appVersion)(this.app),"experience:name":n.id,"experience:key":r,"experience:status":n.state.id,"experience:duration":n.result.duration,...null!==n.result.startTime?{"experience:startTime":n.result.startTime}:null,...n.uuid?{"experience:spanId":n.uuid}:null,...this.tenantType!==a("9na5h").TenantType.RealUser?{"event:tenantType":this.tenantType}:null,...this.mapMetadataToPayload(n.metadata),...this.extractPageLoadData(n),...(0,a("jdaZR").pageVisibleState)(n),...(0,a("dK6It").isInitialPageLoad)(n)&&(0,a("foo60").ssrSuccess)(this.ssr),...(0,a("dK6It").isInitialPageLoad)(n)&&(0,a("4btcP").ssrFeatureFlags)(this.ssr),...this.featureFlagClient&&(0,a("dc6Kb").featureFlags)(this.featureFlagClient,this.featureFlags,n)},performance:this.getPerformanceMetrics(n),task:n.id}},l=a("8Vhtb").getPerformanceObject()?.now()||0;o.attributes.performance.payloadTime=l-t,this.gasv3?this.gasv3.sendOperationalEvent(o):this.buffer.push(o),(0,a("eoXiD").ufolog)("PAYLOAD:",JSON.stringify(o,null,2))}setGlobalEventStream(){if(!((0,a("iJHxx").getGlobalEventStream)() instanceof a("cnlxp").UFOGlobalEventStream)){let e=new(a("cnlxp")).UFOGlobalEventStream;e.push({type:a("fSTSz").UFOGlobalEventStreamEventType.SUBSCRIBE,payload:{experienceId:"__SUBSCRIBE_ALL__",callback:this.publish.bind(this)}}),(0,a("iJHxx").setGlobalEventStream)(e)}}setRoute(e){this.route.setRoute(e)}setup(e){(0,a("3aRrh").visibilityChangeObserver).start(),(0,a("dFbEk").resourceTimingBuffer).start(),this.product||(this.product=e.product||""),e.allowlist&&(this.allowlist=e.allowlist),e.tenantType&&(this.tenantType=e.tenantType),e.hostname&&(this.hostname=e.hostname),e.region&&(this.region=e.region),e.app&&(this.app=e.app),e.featureFlagClient&&(this.featureFlagClient=e.featureFlagClient),e.featureFlags&&(this.featureFlags=e.featureFlags),e.ssr&&(this.ssr=e.ssr),e.bundleEvalTimings&&(this.bundleEvalTimings=e.bundleEvalTimings),e.resourceTimings&&(this.resourceTimings=e.resourceTimings),e.performanceConfig&&(this.performanceConfig=e.performanceConfig),e.plugins&&(this.plugins=e.plugins),this.setGlobalEventStream(),this.gasv3||(this.gasv3=e.gasv3,this.buffer.forEach(this.gasv3.sendOperationalEvent))}mapMetadataToPayload(e){let t={};return Object.entries(e).forEach(([e,r])=>{void 0!==r&&(t[`custom:${e}`]=r)}),t}extractPageLoadData(e){return"initial"in e?{"experience:pageLoadType":e.initial?"initial":"transition"}:{}}getPrefix(e){return null!==e.platform?"platform":this.product}getExperienceKey(e){let t=[this.getPrefix(e),"fe",e.type];return e.platform&&t.push(e.platform.component),t.push(e.id),t.join(".")}getExperiencePerformanceKey(e){let t=[this.getPrefix(e),"fe",e.performanceType];return e.platform&&t.push(e.platform.component),t.push(e.id),t.join(".")}getExperiencePerformanceType(e){return e.performanceType}getPerformanceMetrics(e){return{"event:key":this.getExperiencePerformanceKey(e),"event:type":this.getExperiencePerformanceType(e),...(0,a("ep4ut").getPerformancePayload)(e,this.ssr,this.bundleEvalTimings,this.resourceTimings,this.performanceConfig),...this.getPluginsMetrics(e)}}constructor(){this.gasv3=null,this.product="",this.region=i,this.hostname=a("8Vhtb").getWindowObject()?.location?.hostname||"",this.tenantType=a("9na5h").TenantType.RealUser,this.app={version:{web:i}},this.performanceConfig={},this.buffer=[],this.featureFlagClient=null,this.featureFlags=[],this.ssr=null,this.resourceTimings=null,this.bundleEvalTimings=null,this.route=a("e1BKK").Route,this.plugins=null,this.allowlist=()=>!0,this.getPluginsMetrics=e=>{let t={};return this.plugins&&this.plugins.forEach(r=>{let i=r({...e});null!==i&&"object"==typeof i&&Object.entries(i).forEach(([e,r])=>{t[`${this.product}:${e}`]=r})}),t}}}});const g="0.1.7";n("9na5h",function(t,r){e(t.exports,"TenantType",()=>s);var i,s=((i={}).RealUser="real-user",i.Synthetic="synthetic",i)}),n("cnlxp",function(t,r){e(t.exports,"UFOGlobalEventStream",()=>i);class i{push(e){(0,a("eoXiD").ufolog)("EVENT STREAM push",e.type,e.payload),e.type===a("fSTSz").UFOGlobalEventStreamEventType.EXPERIENCE_PAYLOAD&&this.publish(e.payload),e.type===a("fSTSz").UFOGlobalEventStreamEventType.SUBSCRIBE&&this.subscribe(e.payload.experienceId,e.payload.callback),e.type===a("fSTSz").UFOGlobalEventStreamEventType.UNSUBSCRIBE&&this.unsubscribe(e.payload.experienceId,e.payload.callback)}publish(e){this.subscribers[a("fSTSz").SUBSCRIBE_ALL]&&this.subscribers[0,a("fSTSz").SUBSCRIBE_ALL].forEach(t=>{t(e)}),this.subscribers[e.id]?.forEach(t=>{t(e)})}subscribe(e,t){(0,a("eoXiD").ufolog)("EVENT STREAM subscribe",e),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(t)}unsubscribe(e,t){let r=this.subscribers[e].findIndex(e=>e===t);-1!==r&&this.subscribers[e].splice(r,1)}constructor(){this.__buffer_only__=!1,this.subscribers={}}}}),n("ep4ut",function(t,r){e(t.exports,"getPerformancePayload",()=>g);let i={tti:"metric:tti",fmp:"metric:fmp",ttiHistograms:"metric:tti:histogramBuckets",fmpHistograms:"metric:fmp:histogramBuckets"},s={result:"metric:result",response:"metric:response",resultHistograms:"metric:result:histogramBuckets",responseHistograms:"metric:response:histogramBuckets"},n={duration:"metric:duration",durationHistograms:"metric:duration:histogramBuckets"},o=(e,t,r)=>{let o={};if(e.performanceConfig?.histogram?o=e.performanceConfig.histogram:t?.histogram&&(o=t.histogram),o){let t=o[e.performanceType];switch(e.performanceType){case a("atdLB").ExperiencePerformanceTypes.PageLoad:case a("atdLB").ExperiencePerformanceTypes.PageSegmentLoad:let l=void 0!==r&&!0===r?"initial":"transition";return t?{[i.ttiHistograms]:t[l].tti,[i.fmpHistograms]:t[l].fmp}:{};case a("atdLB").ExperiencePerformanceTypes.InlineResult:return t?{[s.resultHistograms]:t.result,[s.responseHistograms]:t.response}:{};case a("atdLB").ExperiencePerformanceTypes.Custom:return t?{[n.durationHistograms]:t.duration}:{}}}},l=(e,t,r)=>{if(null===e.metrics.endTime||null===e.metrics.startTime)return null;let s=e.metrics.marks.find(e=>e.name===a("fSTSz").FMP_MARK)?.time||(0,a("dK6It").isInitialPageLoad)(e)&&t?.getDoneMark(),n=e.metrics.endTime-e.metrics.startTime,l="number"==typeof s?s-e.metrics.startTime:n;return{[i.tti]:Math.round(n),[i.fmp]:Math.round(l),...o(e,r)}},c=(e,t)=>{if(null===e.metrics.endTime||null===e.metrics.startTime)return null;let r=e.metrics.marks.find(e=>e.name===a("fSTSz").INLINE_RESPONSE_MARK),i=e.metrics.endTime-e.metrics.startTime,n=r?r.time-e.metrics.startTime:i;return{[s.result]:Math.round(i),[s.response]:Math.round(n),...o(e,t)}},u=(e,t)=>{if(null===e.metrics.endTime||null===e.metrics.startTime)return null;let r=e.metrics.endTime-e.metrics.startTime;return{[n.duration]:Math.round(r),...o(e,t)}},p=(e,t,r)=>{switch(e.performanceType){case a("atdLB").ExperiencePerformanceTypes.PageLoad:case a("atdLB").ExperiencePerformanceTypes.PageSegmentLoad:return l(e,t,r);case a("atdLB").ExperiencePerformanceTypes.InlineResult:return c(e,r);case a("atdLB").ExperiencePerformanceTypes.Custom:return u(e,r)}},g=(e,t,r,i,s)=>({...p(e,t,s),...(0,a("h6gEY").resourceTimings)(e,i),...(0,a("eAj4U").bundleEvalTimings)(e,r),...(0,a("k4Pve").appTimings)(e,t),...(0,a("dK6It").isInitialPageLoad)(e)?(0,a("kWdyU").navigationMetrics)():null})}),n("dK6It",function(t,r){e(t.exports,"isInitialPageLoad",()=>i);let i=e=>e.performanceType===a("atdLB").ExperiencePerformanceTypes.PageLoad&&!0===e.initial}),n("kWdyU",function(t,r){e(t.exports,"navigationMetrics",()=>i);let i=()=>{let e=performance.getEntriesByType("navigation");if(0===e.length)return null;let t=e[0];return{"metrics:navigation":{redirectStart:Math.round(t.redirectStart),redirectEnd:Math.round(t.redirectEnd),fetchStart:Math.round(t.fetchStart),domainLookupStart:Math.round(t.domainLookupStart),domainLookupEnd:Math.round(t.domainLookupEnd),connectStart:Math.round(t.connectStart),connectEnd:Math.round(t.connectEnd),secureConnectionStart:Math.round(t.secureConnectionStart),requestStart:Math.round(t.requestStart),responseStart:Math.round(t.responseStart),responseEnd:Math.round(t.responseEnd),encodedBodySize:Math.round(t.encodedBodySize),decodedBodySize:Math.round(t.decodedBodySize),transferSize:Math.round(t.transferSize),redirectCount:t.redirectCount,type:t.type,unloadEventEnd:Math.round(t.unloadEventEnd),unloadEventStart:Math.round(t.unloadEventStart),workerStart:Math.round(t.workerStart)}}}}),n("k4Pve",function(t,r){e(t.exports,"appTimings",()=>i);let i=(e,t)=>{let r=e.performanceType===a("atdLB").ExperiencePerformanceTypes.PageLoad&&e.explicitTimings||null,i=(0,a("86du4").customTimings)(e),s=(0,a("dK6It").isInitialPageLoad)(e)?(0,a("gtOjE").ssrTimings)(t):null,n=(r||i||s)&&{...r,...i,...s};return n&&0!==Object.keys(n).length?{"timings:app":n}:null}}),n("86du4",function(t,r){e(t.exports,"customTimings",()=>s);let i=e=>(e.timings||[]).reduce((t,r)=>{let i=e.metrics.marks.find(e=>e.name===r.startMark);if(r.startMark&&!i)return t;let s=e.metrics.marks.find(e=>e.name===r.endMark);if(r.endMark&&!s)return t;if(null===e.metrics.startTime||null===e.metrics.endTime)return null;let a=Math.round((i?i.time:e.metrics.startTime)-e.metrics.startTime),n=Math.round((s?s.time:e.metrics.endTime)-e.metrics.startTime-a);return t[`${r.key}`]={startTime:a,duration:n},t},{}),s=e=>{if(!e.timings)return null;let t=i(e);return 0===Object.keys(t).length?null:t}}),n("gtOjE",function(t,r){e(t.exports,"ssrTimings",()=>n);let i=e=>!(!e||"object"!=typeof e||e.startTime<0||e.duration<0),s=e=>({startTime:Math.round(e.startTime),duration:Math.round(e.duration)}),a=e=>"total"===e?"ssr":`ssr${d}${e}`,n=e=>{if(!e?.getTimings)return null;let t=e.getTimings();if(!t)return null;let r=Object.entries(t).reduce((e,t)=>(i(t[1])&&(e[a(t[0])]=s(t[1])),e),{});return r&&0!==Object.keys(r).length?r:null}});const d="/";n("eAj4U",function(t,r){e(t.exports,"bundleEvalTimings",()=>i);let i=(e,t,r=(0,a("8Vhtb").getPerformanceObject)()||void 0)=>{if(!t)return null;let i={},s={};if(r?.getEntriesByType("mark").forEach(r=>{let a=t.mapPerformanceMark(r.name);if(!a||null===e.result.startTime)return;let{type:n,name:o}=a;if("start"===n&&r.startTime>=e.result.startTime){i[o]=r;return}"end"===n&&i[o]&&(s[o]={startTime:Math.round(i[o].startTime-e.result.startTime),duration:Math.round(r.startTime-i[o].startTime)},delete i[o])}),t?.additionalTimings&&null!==e.result.startTime){let r=t.additionalTimings(e.result.startTime);r&&Object.entries(r).forEach(([e,t])=>{s[e]=t})}return 0===Object.keys(s).length?null:{"timings:bundleEval":s}}}),n("8Vhtb",function(t,r){e(t.exports,"getWindowObject",()=>i),e(t.exports,"getPerformanceObject",()=>s),e(t.exports,"getPerformanceObserverObject",()=>a);let i=()=>"undefined"!=typeof window&&window?window:void 0,s=()=>{let{performance:e}=i()||{};return e},a=()=>{let{PerformanceObserver:e}=i()||{};return e}}),n("h6gEY",function(t,r){e(t.exports,"resourceTimings",()=>d);let i=["script","link"],s=["fetch","xmlhttprequest"],n="network",o=(e,t,r)=>i.includes(e)?(void 0===r||0===r)&&0===t?"memory":0===r&&t>0?"disk":void 0===r?null:n:n,l=(e,t,r,s)=>!i.includes(t)||e.includes("localhost")||!!(0,a("8Vhtb").getWindowObject)()&&e.includes(window.location.hostname)||s(e,r),c=e=>e?["script","link","fetch","xmlhttprequest"]:["script","link","fetch"],u=(e,t)=>!(0===t.responseStart&&t.startTime>t.responseStart),p=e=>void 0!==e?{size:e}:null,g=(e,t,r=u)=>{let{name:s,duration:a,transferSize:c,initiatorType:g,responseStart:d}=e,m=Math.round(d-t);if(!l(s,g,e,r))return{};if(i.includes(g)){let e=o(g,a,c);return e?e!==n?{transferType:e}:{ttfb:m,transferType:e,...p(c)}:{ttfb:m,...p(c)}}return{ttfb:m,...p(c)}},d=(e,t,r=(0,a("8Vhtb").getPerformanceObject)()||void 0)=>{if(null===e.result.startTime||!t?.sanitiseEndpoints)return null;let i=(0,a("dFbEk").getResourceTimings)(e.result.startTime,r);if(!i?.length)return null;let n={},{xhrFilter:o}=t,l=c(!!o);return i.forEach(r=>{if(!l.includes(r.initiatorType))return;let{name:i,startTime:a,duration:c,workerStart:u,fetchStart:p,initiatorType:d}=r;if(!i||null===e.result.startTime||"xmlhttprequest"===d&&(void 0===o||!1===o(i)))return;let m=s.includes(d)?t.sanitiseEndpoints(i):t.mapResources(i);m&&!n[m]&&(n[m]={startTime:Math.round(a-e.result.startTime),duration:Math.round(c),workerStart:Math.max(Math.round(u-e.result.startTime),0),fetchStart:Math.max(Math.round(p-e.result.startTime),0),type:d,...g(r,e.result.startTime,t.hasTimingHeaders)})}),{"timings:resource":n}}}),n("dFbEk",function(t,r){e(t.exports,"resourceTimingBuffer",()=>i),e(t.exports,"getResourceTimings",()=>s);let i={timings:[],maxSize:1e3,observer:null,transformResource:e=>({name:e.name,initiatorType:e.initiatorType,transferSize:e.transferSize,startTime:Math.round(e.startTime),duration:Math.round(e.duration),fetchStart:Math.round(e.fetchStart||0),workerStart:Math.round(e.workerStart||0),responseStart:Math.round(e.responseStart||0)}),start:(e=(0,a("8Vhtb").getPerformanceObject)(),t=(0,a("8Vhtb").getPerformanceObserverObject)())=>{if(!t||!e||void 0===t)return;if(i.observer){(0,a("eoXiD").ufologger).warn("Observer is already running");return}let r=e.getEntriesByType?.("resource");r&&(i.timings=r.map(e=>i.transformResource(e))),i.observer=new t(i.addTimings),i.observer.observe({entryTypes:["resource"]})},stop:()=>{i.observer&&(i.observer.disconnect(),i.observer=null),i.timings=[]},addTimings:e=>{let t=e.getEntries().map(e=>i.transformResource(e)),r=i.timings.length+t.length;if(r>i.maxSize){let e=r-i.maxSize;i.timings.splice(0,e)}i.timings.push(...t)}},s=(e,t=(0,a("8Vhtb").getPerformanceObject)())=>{if(!PerformanceObserver||!i.observer){let r=t?.getEntriesByType("resource");return r?r.filter(t=>t.startTime>=e):null}return i.timings.filter(t=>t.startTime>=e)}}),n("jdaZR",function(t,r){e(t.exports,"pageVisibleState",()=>i);let i=e=>({"experience:pageVisible":e.pageVisibleState??(document.hidden?a("fSTSz").PageVisibleState.HIDDEN:a("fSTSz").PageVisibleState.VISIBLE)})}),n("1rlqb",function(t,r){e(t.exports,"appFramework",()=>i);let i=e=>e.framework?{"app:framework:name":e.framework.name,"app:framework:version":e.framework.version}:null}),n("8vdI1",function(t,r){e(t.exports,"appVersion",()=>i);let i=e=>{let t={"app:web:version":e.version.web};return e.version.ssr&&(t["app:ssr:version"]=e.version.ssr),t}}),n("7xyGJ",function(r,i){e(r.exports,"eventBrowserPlugin",()=>n);var s=a("4XKM3");let n=(0,a("8QpSo").default)(()=>{if(!t(s).getParser)return null;let e=t(s).getParser(a("8Vhtb").getWindowObject()?.navigator?.userAgent||"");return{"event:browser:name":e.getBrowserName(),"event:browser:version":e.getBrowserVersion()}})}),n("6IMTA",function(t,r){e(t.exports,"eventCpusPlugin",()=>i);let i=(0,a("8QpSo").default)(()=>navigator.hardwareConcurrency?{"event:cpus":navigator.hardwareConcurrency}:null)}),n("dc6Kb",function(t,r){e(t.exports,"featureFlags",()=>i);let i=(e,t,r)=>{let i=[...t,...r.featureFlags||[]];if(0===i.length)return null;let s=[];return i.reduce((t,r)=>{let i=e.getValue(r);return null!=i&&t.push([r,i]),t},s),{featureFlags:Object.fromEntries(s)}}}),n("aHGCE",function(t,r){e(t.exports,"eventMemoryPlugin",()=>i);let i=(0,a("8QpSo").default)(()=>navigator.deviceMemory?{"event:memory":navigator.deviceMemory}:null)}),n("l4Z6i",function(t,r){e(t.exports,"eventNetworkPlugin",()=>i);let i=()=>navigator.connection?{"event:network:effectiveType":navigator.connection.effectiveType,"event:network:rtt":navigator.connection.rtt,"event:network:downlink":navigator.connection.downlink}:null}),n("4btcP",function(t,r){e(t.exports,"ssrFeatureFlags",()=>i);let i=e=>{if(!e?.getFeatureFlags)return null;try{let t=e.getFeatureFlags();if(t)return{"ssr:featureFlags":t}}catch(e){}return null}}),n("foo60",function(t,r){e(t.exports,"ssrSuccess",()=>i);let i=e=>e?.getDoneMark()?{"ssr:success":!0}:null}),n("e1BKK",function(t,r){e(t.exports,"Route",()=>i);let i={route:"",setRoute(e){this.route=e},getRoute(){return this.route}}}),r.rlb("i5RRW");try{performance.mark("shared~commons~atlassian~ar.js:eval-stop")}catch(e){}
//# sourceMappingURL=https://jira-frontend-bifrost.prod-east.frontend.public.atl-paas.net/assets/shared~commons~atlassian~ar.e0e6e46c.js.map
